// typoRhythm


$typorhythm_default_base: 24 !default;
$typorhythm_default_fontsize: 16 !default;

@function fontSize($size, $unit){
  @return $size / $typorhythm_default_fontsize * if($unit == 'rem', 1rem, 1em);
}

@function toEms($size) {
  @return $typorhythm_default_base / $size * 1em;
}

@function lineHeight($size, $base:$typorhythm_default_base) {
  @return $base / $size;
}

@function responsiveLineHeight($size, $base:$typorhythm_default_base) {
  $remaining: $size % $base;
  $next_base: $base + ($size - $remaining);
  @return if($remaining > 0, lineHeight($size, $next_base), 1);
}

@mixin typoRhythm($size:16, $padding:null, $margin:null, $line-height:null, $unit:null) {
  // Font Size
  font-size: fontSize($size, $unit);
  // Padding
  @if $padding {padding: $padding * toEms($size);}
  // Margin
  @if $margin {margin-bottom: $margin * toEms($size);}
  // Line Height
  @if $line-height {
    line-height: $line-height * lineHeight($size);
  } @else {
    line-height: responsiveLineHeight($size);
  }
}

@mixin typoRhythmGenerator($map, $padding:null, $margin:null, $line-height:null, $unit:null) {
  @each $element, $size in $map {
    #{$element} {
      @include typoRhythm($size, $padding, $margin, $line-height, $unit);
    }
  }
}
